# React로 사고하기

## 1단계: UI를 컴포넌트 계층 구조로 나누기

- 모든 컴포넌트에 박스를 그리고 각각에 이름을 붙이기
- 어떤것이 컴포넌트가 되어야할까?
  - 새로운 함수나 객체를 만들때 처럼
  - 단일 책임 원칙 : 하나의 컴포넌트는 한 가지 일을 하는기 이상적이라는 원칙
  - 하나의 컴포넌트가 커지게 된다면 이는 보다 작은 하위 컴포넌트로 분리

## 2단계: React로 정적인 버전 만들기

- 데이터 모델을 가지고 UI를 렌더링은 되지만 아무 동작도 없는 버전 만들기
- 다른 컴포넌트를 재사용하는 컴포넌트를 만들고 props를 이용해 데이터를 전달.
- 이 단계에서 state 사용하지 말기
  - state는 오직 상호작용을 위해, 즉 시간이 지남에 따라 데이터가 바뀌는 것에 사용
- 하향식 또는 상향식으로 개발하기
- 단방향 데이터 흐름은 모든 것을 모듈화하고 빠르게 만들어줌

### Props vs State

- props: (함수 매개변수처럼) 컴포넌트에 전달
- state: (함수 내에 선언된 변수처럼) 컴포넌트 안에서 관리

## 3단계: UI state에 대한 최소한의(하지만 완전한) 표현 찾아내기

- UI 상호작용
- 중복배제 원칙(DRY : Don't repeat yourself) : 반복을 줄이는 것을 목표로하는 개발 원칙
- 가장 최소한의 state를 찾고 이를 통해 나머지 모든 것들이 필요에 따라 그때그때 계산되도록 할것.

- 체크
  - 부모로부터 props를 통해 전달됩니까?
  - 시간이 지나도 변하지 않나요?
  - 컴포넌트 안의 다른 state나 props를 가지고 계산 가능한가요?
  - 그렇다면 state가 아닙니다.

## 4단계: State가 어디에 있어야 할지 찾기

- React는 항상 컴포넌트 계층구조를 따라 아래로 내려가는 단방향 데이터 흐름을 따름.
- state 기반으로 렌더링하는 모든 컴포넌트 찾기
- 공통 소유 컴포넌트(common owner component) 찾기
  - 계층 구조 내에서 특정 state가 있어야 하는 모든 컴포넌트의 상윙 있는 하나의 컴포넌트
- 공통 혹은 더 상위에 있는 컴포넌트가 state를 가져야함
- state를 소유할 적적할 컴포넌트를 찾지 못하였다면, state를 소유하는 컴포넌트를 하나 만들어 공통 소유 컴포넌트의 상위 계층에 추가

## 5단계: 역방향 데이터 흐름 추가하기

- 이벤트 콜백 넘기기
